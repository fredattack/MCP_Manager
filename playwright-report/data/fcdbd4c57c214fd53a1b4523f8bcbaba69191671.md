# Test info

- Name: Authentication Flow >> user cannot login with invalid credentials
- Location: /Users/fred/PhpstormProjects/mcp_manager/tests/e2e/auth/login.spec.ts:26:3

# Error details

```
TimeoutError: locator.fill: Timeout 10000ms exceeded.
Call log:
  - waiting for getByRole('textbox', { name: /email/i })

    at /Users/fred/PhpstormProjects/mcp_manager/tests/e2e/auth/login.spec.ts:30:57
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { login, logout, assertAuthenticated } from '../fixtures/auth';
   3 |
   4 | test.describe('Authentication Flow', () => {
   5 |   // Pas de beforeEach - on utilise l'utilisateur créé par le global setup
   6 |
   7 |   test('user can login successfully', async ({ page }) => {
   8 |     // Utiliser l'utilisateur de test créé par le seeder
   9 |     await login(page);
  10 |     await assertAuthenticated(page);
  11 |
  12 |     // Vérifier qu'on est bien sur le dashboard
  13 |     await expect(page).toHaveURL(/\/dashboard/);
  14 |   });
  15 |
  16 |   test('user can logout successfully', async ({ page }) => {
  17 |     await login(page);
  18 |     await assertAuthenticated(page);
  19 |
  20 |     await logout(page);
  21 |
  22 |     // Vérifier qu'on est redirigé vers la page de login
  23 |     await expect(page).toHaveURL(/\/login/);
  24 |   });
  25 |
  26 |   test('user cannot login with invalid credentials', async ({ page }) => {
  27 |     await page.goto('/login');
  28 |
  29 |     // Utiliser getByRole (best practice)
> 30 |     await page.getByRole('textbox', { name: /email/i }).fill('info@hddev.be');
     |                                                         ^ TimeoutError: locator.fill: Timeout 10000ms exceeded.
  31 |     await page.getByRole('textbox', { name: /password/i }).fill('wrongpassword');
  32 |     await page.getByRole('button', { name: /log in/i }).click();
  33 |
  34 |     // Vérifier qu'on reste sur la page de login
  35 |     await expect(page).toHaveURL(/\/login/);
  36 |
  37 |     // Vérifier qu'un message d'erreur s'affiche
  38 |     await expect(page.locator('text=/invalid|incorrect|wrong|credentials/i')).toBeVisible();
  39 |   });
  40 | });
  41 |
```