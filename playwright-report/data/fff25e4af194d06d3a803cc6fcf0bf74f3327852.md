# Test info

- Name: Workflows List Page >> can navigate to workflow detail page
- Location: /Users/fred/PhpstormProjects/mcp_manager/tests/e2e/workflows/workflows-list.spec.ts:33:3

# Error details

```
TimeoutError: locator.clear: Timeout 10000ms exceeded.
Call log:
  - waiting for getByRole('textbox', { name: /email/i })

    at login (/Users/fred/PhpstormProjects/mcp_manager/tests/e2e/fixtures/auth.ts:24:20)
    at /Users/fred/PhpstormProjects/mcp_manager/tests/e2e/workflows/workflows-list.spec.ts:11:5
```

# Test source

```ts
   1 | import { Page } from '@playwright/test';
   2 |
   3 | /**
   4 |  * Connexion d'un utilisateur
   5 |  * Utilise les sélecteurs par rôle (best practice Playwright)
   6 |  */
   7 | export async function login(
   8 |   page: Page,
   9 |   email: string = 'info@hddev.be',
  10 |   password: string = 'password'
  11 | ): Promise<void> {
  12 |   // Aller sur la page de login et attendre que la page soit complètement chargée
  13 |   await page.goto('/login', { waitUntil: 'networkidle' });
  14 |
  15 |   // Attendre que le formulaire soit complètement chargé et Inertia initialisé
  16 |   await page.waitForLoadState('domcontentloaded');
  17 |
  18 |   // Attendre un peu pour que Inertia soit prêt (éviter race condition)
  19 |   await page.waitForTimeout(500);
  20 |
  21 |   // Utiliser getByRole avec le label accessible (best practice)
  22 |   // Vider d'abord les champs (au cas où ils sont pré-remplis)
  23 |   const emailField = page.getByRole('textbox', { name: /email/i });
> 24 |   await emailField.clear();
     |                    ^ TimeoutError: locator.clear: Timeout 10000ms exceeded.
  25 |   await emailField.fill(email);
  26 |
  27 |   const passwordField = page.getByRole('textbox', { name: /password/i });
  28 |   await passwordField.clear();
  29 |   await passwordField.fill(password);
  30 |
  31 |   // Soumettre le formulaire et attendre la navigation
  32 |   await page.getByRole('button', { name: /log in/i }).click();
  33 |
  34 |   // Attendre la redirection vers dashboard
  35 |   await page.waitForURL('/dashboard', { timeout: 30000 });
  36 | }
  37 |
  38 | /**
  39 |  * Déconnexion
  40 |  */
  41 | export async function logout(page: Page): Promise<void> {
  42 |   // Cliquer sur le bouton utilisateur (avec initiales FM)
  43 |   await page.locator('button:has-text("FM")').click();
  44 |
  45 |   // Cliquer sur le menuitem "Log out" (pas un button)
  46 |   await page.getByRole('menuitem', { name: /log out/i }).click();
  47 |
  48 |   await page.waitForURL('/login');
  49 | }
  50 |
  51 | /**
  52 |  * Vérifier qu'un utilisateur est connecté
  53 |  */
  54 | export async function assertAuthenticated(page: Page): Promise<void> {
  55 |   // Vérifier qu'on est sur une page protégée (dashboard) et que la navigation est visible
  56 |   await page.waitForURL(/\/(dashboard|workflows|integrations)/, { timeout: 10000 });
  57 |   await page.getByRole('heading', { name: /dashboard|workflows|integrations/i }).waitFor({ state: 'visible' });
  58 | }
  59 |
```